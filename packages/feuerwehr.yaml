input_select:
  fire_mode:
    name: Einsatzstatus
    options:
      - Bereitschaft
      - Alarmierung
      - Auf Anfahrt
      - Im Einsatz
    initial: Bereitschaft
    icon: mdi:fire-hydrant

automation:

##Ã„nderung Einsatzstatus
- alias: Einsatzstatus
  trigger:
  - platform: state
    entity_id: input_select.fire_mode
  action:
  - choose:
    - conditions:
      - condition: state
        entity_id: input_select.fire_mode
        state: Alarmierung
      sequence:
      - scene: scene.alarmierung
      - service: notify.mobile_app_iphonesw
        data:
          title: FF Monheim LZ 1
          message: ALARM TEST
    - conditions:
      - condition: state
        entity_id: input_select.fire_mode
        state: Auf Anfahrt
      sequence:
      - service: light.turn_off
        entity_id: all
    - conditions:
      - condition: state
        entity_id: input_select.fire_mode
        state: Im Einsatz
      sequence: []
    default: []
  mode: single

##Alarmierung
- alias: Alamierung
  trigger: []
  action:
  - service: input_select.select_option
    data:
      entity_id: input_select.fire_mode
      option: Alarmierung
  mode: single

##Anfahrt zur Rettungswache
- alias: Auf Anfahrt
  trigger:
  - platform: zone
    entity_id: person.sebastian_weise
    zone: zone.home
    event: leave
  condition:
  - condition: state
    entity_id: input_select.fire_mode
    state: Alarmierung
  action:
  - service: input_select.select_option
    data:
      entity_id: input_select.fire_mode
      option: Auf Anfahrt
  mode: single

##Ankunft auf Rettungswache
- alias: Ankunft Rettungswache
  trigger:
  - platform: zone
    entity_id: person.sebastian_weise
    zone: zone.wache_monheim
    event: enter
  condition:
  - condition: state
    entity_id: input_select.fire_mode
    state: Auf Anfahrt
  action:
  - service: input_select.select_option
    data:
      entity_id: input_select.fire_mode
      option: Im Einsatz
  mode: single

##Ankunft Zuhause nach Einsatz
- alias: Einsatz beendet
  trigger:
  - platform: zone
    entity_id: person.sebastian_weise
    zone: zone.home
    event: enter
  condition:
  - condition: state
    entity_id: input_select.fire_mode
    state: Im Einsatz
  action:
  - service: input_select.select_option
    data:
      entity_id: input_select.fire_mode
      option: Bereitschaft
  mode: single