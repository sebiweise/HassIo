switch:
  - platform: rest
    resource: http://192.168.1.2:8126/container/zigbee2mqtt
    name: zigbee2mqtt
    body_on: '{"state": "start"}'
    body_off: '{"state": "stop"}'
    is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
  - platform: rest
    resource: http://192.168.1.2:8126/container/mosquitto
    name: mosquitto
    body_on: '{"state": "start"}'
    body_off: '{"state": "stop"}'
    is_on_template: '{{ value_json is not none and value_json.state == "running" }}'
  - platform: rest
    resource: http://192.168.1.2:8126/container/unifi
    name: unifi
    body_on: '{"state": "start"}'
    body_off: '{"state": "stop"}'
    is_on_template: '{{ value_json is not none and value_json.state == "running" }}'

shell_command:
  restart_hass: 'curl http://192.168.1.2:8126/container/homeassistant/restart'
  restart_zigbee2mqtt: 'curl http://192.168.1.2:8126/container/zigbee2mqtt/restart'
  restart_mosquitto: 'curl http://192.168.1.2:8126/container/mosquitto/restart'
  restart_unifi: 'curl http://192.168.1.2:8126/container/unifi/restart'